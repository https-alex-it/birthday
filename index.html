<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Invito al 18¬∞ Compleanno di Serena</title>
    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bulma@0.8.0/css/bulma.min.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.countdown.css" />
    <script
      src="https://kit.fontawesome.com/2828f7885a.js"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/jquery.coundown.js"></script>
    <!-- <link rel="icon" type="image/png" href="image/parrot.gif" /> -->
  </head>

  <body>
    <!-- Preloader -->
    <div class="preloader-wrapper">
      <div class="preloader">
        <!-- <img src="image/parrot.gif" alt="Party Parrot Gif" /> -->
      </div>
    </div>

    <!-- Header -->
    <section class="hero is-large" id="home">
      <!-- Navbar Mobile -->
      <nav class="navbar is-transparent is-hidden-desktop">
        <div class="navbar-brand">
          <div class="navbar-burger burger" data-target="mobile-nav">
            <span></span><span></span><span></span>
          </div>
        </div>
        <div id="mobile-nav" class="navbar-menu">
          <div class="navbar-end">
            <a class="navbar-item" href="#dresscode">Dress Code</a>
            <a class="navbar-item" href="#lokasi">Dove</a>
            <a class="navbar-item" href="#tentang-serena">Parteciperai?</a>
            <a class="navbar-item" href="#foto">Carica le tue foto</a>
          </div>
        </div>
      </nav>
  
      <!-- Hero Content -->
      <div class="hero-body has-text-centered">
        <h1 class="subtitle">Sei invitato al</h1>
        <h2 class="title">18¬∞ Compleanno di Serena</h2>
        <h4 class="subtitle tempatwaktu">
          Sabato, 14 Febbraio 2026 <br />
          Agriturismo Sanacore, Str. Quartana 7 <br />
          91100 Guarrato (TP)
        </h4>
      </div>
  
      <!-- Navbar Desktop -->
      <div class="hero-foot">
        <div class="hero-foot--wrapper">
          <div class="columns">
            <div class="column is-12 hero-menu-desktop has-text-centered">
              <ul>
                <li class="is-active"><a href="#home">Home</a></li>
                <li><a href="#dresscode">Dress Code</a></li>
                <li><a href="#lokasi">Dove</a></li>
                <li><a href="#tentang-serena">Parteciperai?</a></li>
                <li><a href="#foto">Carica le tue foto</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  

    <!-- Contenuto principale -->
   <div class="main-content">
    <section id="dresscode" class="has-text-centered">
      <h2 class="section-title">Dress Code</h2>
    
      <div class="dresscode-wrapper">
        <!-- Colonna Maschio -->
        <div class="dresscode-box glass-effect">
          <h3 class="title-foto dusty-pink-darkest">üëî Maschio</h3>
          <ul class="bodytext lista-dresscode">
            <li>Camicia nera o blu notte leggermente satinata</li>
            <li>Pantaloni eleganti o jeans scuri, con giacca coordinata</li>
            <li>Dettaglio brillante: catenina, spilla o scarpe metallizzate</li>
          </ul>
        </div>
    
        <!-- Colonna Femmina -->
        <div class="dresscode-box glass-effect">
          <h3 class="title-foto dusty-pink-darkest">üëó Femmina</h3>
          <ul class="bodytext lista-dresscode">
            <li>Abiti neri, blu notte o argento</li>
            <li>Dettaglio scintillante: gioiello, accessorio o scarpe</li>
          </ul>
        </div>
      </div>
    </section>
    
               

      <!-- Sezione Dove -->
      <div class="section-light" id="lokasi">
        <div class="container">
          <div class="column is-12 regular-section">
            <h1 class="title has-text-centered section-title">Dove si terr√†</h1>
            <p class="tempat is-larger has-text-centered">
              <strong>Agriturismo Sanacore</strong><br />
              Str. Quartana, 7 ‚Äì 91100 Guarrato (TP)
            </p>
          </div>
          <div class="section-map">
            <iframe
              src="https://www.google.com/maps?q=agriturismo+sanacore+trapani&output=embed"
              width="100%"
              height="450"
              frameborder="0"
              style="border:0;"
              allowfullscreen=""
            ></iframe>
          </div>
          <div class="has-text-centered">
            <a href="https://maps.google.com/?q=agriturismo+sanacore+trapani" class="button btn-arah">
              <i class="far fa-map"></i>&nbsp;&nbsp;Apri su Google Maps
            </a>
          </div>
        </div>
      </div>

      <!-- Sezione Foto -->
      <div class="section-dark foto-foto" id="foto">
        <div class="container">
          <div class="columns is-multiline">
            <div class="column is-12">
              <h1 class="title has-text-centered section-title">carica qui le foto di questa giornata!</h1>
            <div class="has-text-centered" style="margin-top: 20px;">
             <a href="upload.html" class="button is-primary is-medium">
  üì∏ Carica una foto
</a>
           </div>

            </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sezione Partecipazione -->
<div class="section-light regular-section" id="tentang-serena">
  <div class="container has-text-centered">
    <h1 class="title section-title">Parteciperai?</h1>
    <p>Facci sapere se ci sarai al compleanno!</p>

    <div class="buttons is-centered mt-4">
      <button class="button is-success is-medium" id="btnSi">
        ‚úÖ S√¨, ci sar√≤
      </button>
      <button class="button is-danger is-medium" id="btnNo">
        ‚ùå No, non posso venire
      </button>
    </div>
  </div>
</div>

<!-- POPUP -->
<div id="popupForm" class="modal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Conferma la tua presenza</p>
      <button class="delete" aria-label="close" id="closePopup"></button>
    </header>
    <section class="modal-card-body">
      <form id="rsvpForm">
        <div class="field">
          <label class="label">Nome</label>
          <div class="control">
            <input class="input" type="text" id="nome" required />
          </div>
        </div>
        <div class="field">
          <label class="label">Cognome</label>
          <div class="control">
            <input class="input" type="text" id="cognome" required />
          </div>
        </div>
        <div class="field">
          <label class="label">Numero di telefono</label>
          <div class="control">
            <input class="input" type="tel" id="telefono" placeholder="+39..." required />
          </div>
        </div>
        <input type="hidden" id="partecipa" />
      </form>
    </section>
    <footer class="modal-card-foot">
      <button class="button is-success" id="inviaForm">Invia</button>
      <button class="button" id="annullaForm">Annulla</button>
    </footer>
  </div>
</div>
    

      <!-- Bottone WhatsApp flottante -->
<a href="https://api.whatsapp.com/send?phone=393470513914&text=Ciao%20Serena!%20Confermo%20la%20mia%20presenza%20al%20tuo%2018%C2%B0!"
class="floating-whatsapp" target="_blank">

<i class="fab fa-whatsapp"></i> Scrivi a Serena
</a>

    </div>

  

    <!-- Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/menikah.js"></script>
    <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
    <script>
      AOS.init({
        easing: "ease-out",
        duration: 800,
      });
    </script>
  </body>
<!-- Widget Upload Cloudinary -->
<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
<script type="text/javascript">
  const cloudName = "ddhvazvht"; // <-- il tuo cloudName
  const uploadPreset = "default_unsigned"; // crea questo su Cloudinary (Settings > Upload)

 const myWidget = cloudinary.createUploadWidget(
  {
    cloudName: cloudName,
    uploadPreset: uploadPreset,
    sources: ['local', 'camera', 'url'],
    multiple: true,
    folder: "compleanno_serena",
    maxFileSize: 5000000, // 5 MB
    clientAllowedFormats: ["jpg", "png", "jpeg"],
    resourceType: "image",
    showAdvancedOptions: false,
    cropping: false,
  },
  async (error, result) => {
    if (!error && result && result.event === "success") {
      console.log("‚úÖ Immagine caricata:", result.info.secure_url);

      // Aggiungi la foto nella sezione foto
      const container = document.querySelector(".foto-foto .columns");
      const newCol = document.createElement("div");
      newCol.classList.add("column", "is-3");
      newCol.innerHTML = `
        <figure class="image is-2by1 foto-item"
          style="background-image: url('${result.info.secure_url}');">
        </figure>`;
      container.appendChild(newCol);

      // --- SALVATAGGIO SU FIRESTORE ---
      try {
        await addDoc(collection(db, "foto"), {
          url: result.info.secure_url,
          timestamp: serverTimestamp(),
        });
      } catch (err) {
        console.error("Errore salvataggio foto:", err);
      }
    }
  }
);

  document.getElementById("upload_widget").addEventListener("click", function () {
    myWidget.open();
  }, false);
</script>

  
 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import {
    getFirestore,
    collection,
    addDoc,
    serverTimestamp,
  } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBh1qgLlULgpwJqIOusa9bIRTLzZrLhV8w",
    authDomain: "dizionario-ea959.firebaseapp.com",
    databaseURL: "https://dizionario-ea959-default-rtdb.firebaseio.com",
    projectId: "dizionario-ea959",
    storageBucket: "dizionario-ea959.firebasestorage.app",
    messagingSenderId: "630557692403",
    appId: "1:630557692403:web:ebe5fd0d31ea271b710286",
    measurementId: "G-YPM9SJNENT",
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // --- Popup ---
  const popup = document.getElementById("popupForm");
  const closePopup = document.getElementById("closePopup");
  const annulla = document.getElementById("annullaForm");
  const btnSi = document.getElementById("btnSi");
  const btnNo = document.getElementById("btnNo");

  btnSi.addEventListener("click", () => {
    document.getElementById("partecipa").value = "S√¨";
    popup.classList.add("is-active");
  });

  btnNo.addEventListener("click", () => {
    document.getElementById("partecipa").value = "No";
    popup.classList.add("is-active");
  });

  closePopup.addEventListener("click", () =>
    popup.classList.remove("is-active")
  );
  annulla.addEventListener("click", () =>
    popup.classList.remove("is-active")
  );

  // --- Salvataggio dati ---
  document
    .getElementById("inviaForm")
    .addEventListener("click", async () => {
      const nome = document.getElementById("nome").value.trim();
      const cognome = document.getElementById("cognome").value.trim();
      const telefono = document.getElementById("telefono").value.trim();
      const partecipa = document.getElementById("partecipa").value;

      if (!nome || !cognome || !telefono) {
        alert("Per favore compila tutti i campi!");
        return;
      }

      try {
        await addDoc(collection(db, "rsvp"), {
          nome,
          cognome,
          telefono,
          partecipa,
          timestamp: serverTimestamp(),
        });

        alert("üéâ Grazie! La tua risposta √® stata registrata!");
        popup.classList.remove("is-active");
        document.getElementById("rsvpForm").reset();
      } catch (error) {
        console.error("Errore nel salvataggio:", error);
        alert("Errore durante l‚Äôinvio. Riprova pi√π tardi.");
      }
    });
</script>
</html>
